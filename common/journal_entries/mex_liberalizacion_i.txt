je_mexlibi_revayu = {
	#Revolucion de Ayutla
	icon = "gfx/interface/icons/event_icons/juarez_evento.dds"
	
	group = je_group_mexlibi

	should_be_pinned_by_default = yes

	is_shown_when_inactive = {
        is_player = yes
	}

	possible = {
		c:MEX ?= this
        NOT = { has_variable = plan_ayutla }
		game_date > 1836.1.1
	}

	immediate = {
        set_variable = plan_ayutla
		add_modifier = { 
			name = colonizacion
			days = normal_modifier_time
			}
    }

	complete = {
		OR = {
			has_law = law_type:law_presidential_republic
			has_law = law_type:law_parliamentary_republic
		}
		OR = {
			has_law = law_type:law_wealth_voting
			has_law = law_type:law_census_voting
			has_law = law_type:law_universal_suffrage
		}
	}

	on_complete = {
		trigger_event = liberalizcion_inicial.2
	}
	
    fail = {
	    game_date > 1854.3.1
    }

    on_fail = {
	    trigger_event = liberalizcion_inicial.3
    }
}

je_mexlibi_buff_medium = {
	icon = "gfx/interface/icons/event_icons/juarez_evento.dds"
	
	group = je_group_mexlibi

	should_be_pinned_by_default = yes

	is_shown_when_inactive = {
        is_player = yes
		#has_variable = benito_poder
	}

	possible = {
		has_variable = benito_poder
        NOT = { has_variable = buff_reforma_medio }
	}

	immediate = {
        set_variable = buff_reforma_medio
        every_character = {
            limit = {
                has_template = mex_benito_juarez_template
            }
            save_scope_as = benito
        }
    }

	complete = {
		OR = {
			has_law = law_type:law_religious_schools
			NOT = { has_law = law_type:law_state_religion }
		}
	}

	on_complete = {
		set_variable = buff_reforma_medio_terminado
		add_modifier = { name = nacion_estado_medio }
		if = {
			limit = { NOT = { has_technology_researched = nationalism } }
			add_technology_researched = nationalism
		}
		cu:mexican = {
			add_fervor = 5
			}
	}

    fail = {
		OR = {
	    	ig:ig_intelligentsia = {
				is_in_government = no
			}
			NOT = {
				OR = {
					has_law = law_type:law_wealth_voting
					has_law = law_type:law_census_voting
					has_law = law_type:law_universal_suffrage
				}
			}
			NOT = {
				OR = {
					has_law = law_type:law_presidential_republic
					has_law = law_type:law_parliamentary_republic
				}
			}
		}
    }

    on_fail = {
	    trigger_event = liberalizcion_inicial.4
    }
}

je_mexlibi_buff_grande = {
	icon = "gfx/interface/icons/event_icons/juarez_evento.dds"
	
	group = je_group_mexlibi

	should_be_pinned_by_default = yes

	is_shown_when_inactive = {
        is_player = yes
		has_variable = buff_reforma_medio_terminado
	}

	possible = {
		has_variable = buff_reforma_medio_terminado
        NOT = { has_variable = buff_reforma_grande }
	}

	immediate = {
        set_variable = buff_reforma_grande
        every_character = {
            limit = {
                has_template = mex_benito_juarez_template
            }
            save_scope_as = benito
        }
    }

	complete = {
		has_law = law_type:law_public_schools
		NOT = { has_law = law_type:law_state_religion }
	}

	on_complete = {
		remove_modifier = nacion_estado_medio
		add_modifier = { name = nacion_estado_grande }
		if = {
			limit = { NOT = { has_technology_researched = pan-nationalism } }
			add_technology_researched = pan-nationalism
		}
	}

    fail = {
		OR = {
	    	ig:ig_intelligentsia = {
				is_in_government = no
			}
			NOT = {
				OR = {
					has_law = law_type:law_wealth_voting
					has_law = law_type:law_census_voting
					has_law = law_type:law_universal_suffrage
				}
			}
			NOT = {
				OR = {
					has_law = law_type:law_presidential_republic
					has_law = law_type:law_parliamentary_republic
				}
			}
		}
    }

    on_fail = {
	    trigger_event = liberalizcion_inicial.5
    }
}