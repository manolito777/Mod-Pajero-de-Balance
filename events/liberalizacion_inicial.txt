namespace = liberalizcion_inicial

# Benito Juarez
liberalizcion_inicial.1 = {
	type = country_event

	title = liberalizcion_inicial.1.t
	desc = liberalizcion_inicial.1.d
	flavor = liberalizcion_inicial.1.f

	event_image = {
		texture = "gfx/event_pictures/juarez.dds"
	}

	icon = "gfx/interface/icons/event_icons/juarez_evento.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = {
		c:MEX ?= this
		NOT = { has_variable = benito_ig }
		OR = {
			is_enacting_law = law_type:law_wealth_voting
			is_enacting_law = law_type:law_census_voting
			is_enacting_law = law_type:law_universal_suffrage
		}
	}

	immediate = {
		set_variable = benito_ig
    }

	option = { 
		name = liberalizcion_inicial.1.a
		custom_tooltip = benito_ig_tt
		create_character = {
			template = mex_benito_juarez_template
		}
		add_modifier = {
			name = reforma_incial
			days = normal_modifier_time
		}
		ig:ig_intelligentsia = {
    		add_modifier = {
        		name = benito_ig_buff
    		}
		}
	}
}

# liberalizcion 
liberalizcion_inicial.2 = {
	type = country_event

	title = liberalizcion_inicial.2.t
	desc = liberalizcion_inicial.2.d
	flavor = liberalizcion_inicial.2.f

	event_image = {
		texture = "gfx/event_pictures/juarez_presidente.dds"
	}

	icon = "gfx/interface/icons/event_icons/juarez_evento.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = {
		NOT = { has_variable = liberalizacion_inicial_alcanzada }
	}

	immediate = {
		set_variable = liberalizacion_inicial_alcanzada
		every_scope_character = {
            limit = {
                has_template = mex_benito_juarez_template
            }
            save_scope_as = benito
        }
    }

	option = { 
		set_variable = benito_poder
		name = liberalizcion_inicial.2.a
		custom_tooltip = lib_ini_alc_tt
		scope:benito = {
			set_character_as_ruler = yes 
		}
		ig:ig_intelligentsia = {
			add_ruling_interest_group = yes
		}
	}
}

# dictadura permanece
liberalizcion_inicial.3 = {
	type = country_event

	title = liberalizcion_inicial.3.t
	desc = liberalizcion_inicial.3.d
	flavor = liberalizcion_inicial.3.f

	event_image = {
		texture = "gfx/event_pictures/dictadura_sa.dds"
	}

	icon = "gfx/interface/icons/event_icons/juarez_evento.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = {
		NOT = { has_variable = dictadura_ini_permanece }
	}

	immediate = {
		set_variable = dictadura_ini_permanece
    }

	option = { 
		name = liberalizcion_inicial.3.a
		custom_tooltip = dic_ini_per_tt
		ig:ig_intelligentsia = {
    		remove_modifier = benito_ig_buff 
    	}
		add_modifier = {
			name = dictadura_ini_perpetua
			days = long_modifier_time
		}
	}
}

# fin de la liberalizacion inicial total
liberalizcion_inicial.4 = {
	type = country_event

	title = liberalizcion_inicial.4.t
	desc = liberalizcion_inicial.4.d
	flavor = liberalizcion_inicial.4.f

	event_image = {
		texture = "gfx/event_pictures/liberales_pierden.dds"
	}

	icon = "gfx/interface/icons/event_icons/juarez_evento.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = {	}

	immediate = { }

	option = { 
		name = liberalizcion_inicial.4.a
		custom_tooltip = lib_i_fall_tot_tt
		ig:ig_intelligentsia = {
    		add_modifier = {
				name = liberalizacion_fallida
				days = normal_modifier_time
			}
			remove_modifier = benito_ig_buff
		}
	}
}

# fin de la liberalizacion inicial parcial
liberalizcion_inicial.5 = {
	type = country_event

	title = liberalizcion_inicial.5.t
	desc = liberalizcion_inicial.5.d
	flavor = liberalizcion_inicial.5.f

	event_image = {
		texture = "gfx/event_pictures/liberales_pierden.dds"
	}

	icon = "gfx/interface/icons/event_icons/juarez_evento.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = {	}

	immediate = { }

	option = { 
		name = liberalizcion_inicial.5.a
		custom_tooltip = lib_i_fall_par_tt
		ig:ig_intelligentsia = {
    		add_modifier = {
				name = liberalizacion_parcial
				days = short_modifier_time
			}
			remove_modifier = benito_ig_buff
		}
	}
}