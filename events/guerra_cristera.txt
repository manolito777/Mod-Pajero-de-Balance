namespace = guer_crist

# da el buff inicial
guer_crist.1 = {
	type = country_event

	title = guer_crist.1.t
	desc = guer_crist.1.d
	flavor = guer_crist.1.f

	event_image = {
		texture = "gfx/event_pictures/cat_trad.dds"
	}

	icon = "gfx/interface/icons/event_icons/cruz.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = { 
		c:MEX ?= this
        NOT = { has_variable = buff_iglesia_trad }
		game_date > 1836.1.1
	}

	immediate = { 
		set_variable = buff_iglesia_trad
	}

	option = { 
		name = guer_crist.1.a
		add_modifier = {
			name = estado_crisitano_tradicional
			}
	}
}

# cambio a libertad de consciencia
guer_crist.2 = {
	type = country_event

	title = guer_crist.2.t
	desc = guer_crist.2.d
	flavor = guer_crist.2.f

	event_image = {
		texture = "gfx/event_pictures/cat_pro.dds"
	}

	icon = "gfx/interface/icons/event_icons/cruz.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = { 
		has_variable = buff_iglesia_trad
		NOT = { has_variable = buff_iglesia_moderada }
		has_law = law_type:law_freedom_of_conscience
	}

	immediate = { 
		set_variable = buff_iglesia_moderada
	}

	option = { 
		name = guer_crist.2.a
		add_modifier = {
			name = estado_crisitano_progresista
		}
		remove_modifier = estado_crisitano_tradicional
		add_modifier = {
			name = oposicion_cristiana
			days = long_modifier_time
		}
	}
}

guer_crist.3 = {
	type = country_event

	title = guer_crist.3.t
	desc = guer_crist.3.d
	flavor = guer_crist.3.f

	event_image = {
		texture = "gfx/event_pictures/cat_lai.dds"
	}

	icon = "gfx/interface/icons/event_icons/cruz.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = {
		has_variable = buff_iglesia_trad
		NOT = { has_variable = buff_estado_laico }
		OR = {
			has_law = law_type:law_total_separation
		}
	}

	immediate = {
		set_variable = buff_estado_laico
	 }

	option = { 
		name = guer_crist.3.a
		add_modifier = {
			name = estado_laico
		}
		remove_modifier = estado_crisitano_progresista
		add_modifier = {
			name = oposicion_cristiana
			days = long_modifier_time
		}
	}
}

#Inicio contrareforma
guer_crist.4 = {
	type = country_event

	title = guer_crist.4.t
	desc = guer_crist.4.d
	flavor = guer_crist.4.f

	event_image = {
		texture = "gfx/event_pictures/contrareforma_inicio.dds"
	}

	icon = "gfx/interface/icons/event_icons/cruz.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = { }

	immediate = { }

	option = { 
		name = guer_crist.4.a
		add_radicals = {
			value = 0.2
			religion = rel:catholic
		}
		add_modifier = {
			name = contrareforma_estado
		}
		ig:ig_devout = {
    		add_modifier = {
        		name = contrareforma_iglesia
    		}
		}
	}
}

#Contrareforma exitosa
guer_crist.5 = {
	type = country_event

	title = guer_crist.5.t
	desc = guer_crist.5.d
	flavor = guer_crist.5.f

	event_image = {
		texture = "gfx/event_pictures/contrareforma_exitosa.dds"
	}

	icon = "gfx/interface/icons/event_icons/cruz.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = { }

	immediate = { 
	}

	option = { 
		name = guer_crist.5.a
		add_radicals = {
			value = -0.2
			religion = rel:catholic
		}
		remove_modifier = contrareforma_estado
		remove_modifier = estado_laico
		add_modifier = {
			name = contrareforma_estado_exitoso
			days = very_long_modifier_time
			is_decaying = yes
		}
		add_modifier = { name = herencia_cristiana }
		ig:ig_devout = {
    		remove_modifier = contrareforma_iglesia
			add_modifier = {
				name = contrareforma_iglesia_exitosa
				days = very_long_modifier_time
				is_decaying = yes
			}
		}
	}
}

#Contrareforma fallida
guer_crist.6 = {
	type = country_event

	title = guer_crist.6.t
	desc = guer_crist.6.d
	flavor = guer_crist.6.f

	event_image = {
		texture = "gfx/event_pictures/contrareforma_fallida.dds"
	}

	icon = "gfx/interface/icons/event_icons/cruz.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = { }

	immediate = { }

	option = { 
		name = guer_crist.6.a
		remove_modifier = contrareforma_estado
		add_modifier = {
			name = contrareforma_estado_fallida
			days = very_long_modifier_time
			is_decaying = yes
		}
		ig:ig_devout = {
    		remove_modifier = contrareforma_iglesia
			add_modifier = {
				name = contrareforma_iglesia_fallida
				days = very_long_modifier_time
				is_decaying = yes
			}
		}
	}
}

#Evento intermedio
guer_crist.7 = {
	type = country_event

	title = guer_crist.7.t
	desc = guer_crist.7.d
	flavor = guer_crist.7.f

	event_image = {
		texture = "gfx/event_pictures/contrareforma_mid.dds"
	}

	icon = "gfx/interface/icons/event_icons/cruz.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3

	trigger = { }

	immediate = { }

	option = { 
		default_option = yes
		name = guer_crist.7.a
		add_radicals = {
			value = 0.1
			religion = rel:catholic
		}
		add_modifier = {
			name = intermedio_laico
			days = short_modifier_time
			is_decaying = yes
		}
	}
	option = { 
		name = guer_crist.7.b
		add_radicals = {
			value = -0.1
			religion = rel:catholic
		}
		add_modifier = {
			name = intermedio_cristiana
			days = short_modifier_time
			is_decaying = yes
		}
	}
}
